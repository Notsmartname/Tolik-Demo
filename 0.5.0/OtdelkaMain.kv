# ver: 0.4.0

#: import Factory kivy.factory.Factory

#OtdelkaMain:
#    OtdelkaFirst:
#    OtdelkaSecend:
#    OtdelkaThird:
#    OtdelkaFourth:

# Кномка в меню
<DefButton@Button>:
    background_color: .19, .31, .40, 1
    color: .82, .94, .26, 1
# Надпись для ввода данных
<DefLabel@MDLabel>:
    # halign: 'center'
    size: self.texture_size
    theme_text_color: 'Custom'
    # text_color: .82, .94, .26, 1
    text_color: 1, 1, 1, 1
    line_height: .8


# Строка для ввода данных
<DefTextInput@MDTextField>:
    hint_text: "Введите число в см"
    # helper_text: "Только цифры"
    # helper_text_mode: "persistent"
    # text_color: app.text_color_label


# Меню Расчет отделки помещений
<OtdelkaMain>:
    name: 'расчет отделки'

    ScrollView:

        MDList:

            OneLineAvatarListItem:
                text: 'Покраска'
                # secondary_text: "Тип-1"
                text_color: app.text_color_button
                on_press:
                    Factory.OtdelkaFirst().open()

            # OneLineAvatarListItem:
            # text: 'Шпаклефка'
            # # secondary_text: "Тип-1"
            # text_color: app.text_color_button
            # on_press:
            # Factory.Shpaklefka().open()

            OneLineAvatarListItem:
                text: 'Обои'
                # secondary_text: "Тип-1"
                text_color: app.text_color_button
                on_press:
                    Factory.OtdelkaSecend().open()

            OneLineAvatarListItem:
                text: 'Облицофка'
                # secondary_text: "Тип-1"
                text_color: app.text_color_button
                on_press:
                    Factory.OtdelkaThird().open()

            OneLineAvatarListItem:
                text: 'Штукатурка'
                # secondary_text: "Тип-1"
                text_color: app.text_color_button
                on_press:
                    Factory.OtdelkaFourth().open()



# <Shpaklefka>:
#     title: 'Шпаклефка'
#     ScrollView:
#         do_scroll_x: False
#         do_scroll_y: True
#
#         BoxLayout:
#             height: '400sp'
#             orientation: 'vertical'
#             size_hint_y: None
#             # size: root.width, root.height
#             padding: 10
#             spacing: 10
#
#             canvas:
#                 Color:
#                     rgba: app.popup_color
#                 Rectangle:
#                     size: self.size
#                     pos: self.pos
#
#             DefTextInput:
#                 id: kvadrat_input
#                 hint_text: 'Квадратура:'
#                 helper_text: "Обезательно для ввода"
#                 text_color: app.text_color_label
#
#             DefTextInput:
#                 id: pr_shpak_input
#                 hint_text: 'Стоимость шпаклевки за кг:'
#                 helper_text: "Не обезательно для ввода"
#                 text_color: app.text_color_label
#
#             Spinner:
#                 id: kraska_id
#                 text: 'Вид поверхности'
#                 values: ['Силикатная', 'Латексная', 'Акриловая', 'Силиконовая', 'Поливинилацетатная']
#                 # on_text: root.spiner_clicked(kraska_id.text)
#                 size_hint: None, None
#                 size: 300, 44
#
#             MDRoundFlatButton:
#                 # size_hint: 1, .1
#                 theme_text_color: 'Custom'
#                 text_color: app.text_color_button
#                 line_color: app.text_color_button
#                 pos_hint: {'center_x': .5, 'center_y': 1}
#                 text: '    Посчитать    '
#                 on_press:
#                     root.calculate_kraska()
#
#             MDTextField:
#                 id: answer_output
#                 hint_text: 'Стоимость работ:'
#                 text_color: app.text_color_label
#                 disabled: True
#
#
#             MDRoundFlatButton:
#                 text: 'Назад'
#                 # size_hint: 1, .1
#                 line_color: 0, 0, 0, 1
#                 theme_text_color: 'Custom'
#                 text_color: app.text_color_button
#                 line_color: app.text_color_button
#                 pos_hint: {'center_x': .5, 'center_y': 1}
#                 on_press:
#                     root.dismiss()
# #                    app.root.current = 'расчет отделки'
# #                    root.manager.transition.direction = 'right'

# Покраска стен
<OtdelkaFirst>:
    name: 'Покраска стен'
    auto_dismiss: False
    title: 'Покраска стен'

    kvadrat_input: kvadrat_input
    pr_color_input: pr_color_input


    answer_output: answer_output
    answer_pr_color: answer_pr_color


    # kraska: kraska


    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '500sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10

            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                size_hint_y: .35
#                spacing: 10
#                cols: 1
            DefTextInput:
                id: kvadrat_input
                hint_text: 'Квадратура:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label

            #MDLabel:
                #id: click_kraska
                #text: 'Вид краски'
                #font_size: 16

            Spinner:
                id: kraska_id
                text: 'Вид краски'
                values: ['Силикатная', 'Латексная', 'Акриловая', 'Силиконовая', 'Поливинилацетатная']
                on_text: root.spiner_clicked(kraska_id.text)
                size_hint: None, None
                size: 300, 44

            DefTextInput:
                id: pr_color_input
                hint_text: 'Стоимость краски за литр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

            #DefTextInput:
                #id: pr_gruntovka_input
                #hint_text: 'Стоимость грунтовки за литр:'
                #helper_text: "Не обезательно для ввода"
                #text_color: app.text_color_label

            #DefTextInput:
                #id: pr_shkur_input
                #hint_text: 'Стоимость шкурки за метр:'
                #helper_text: "Не обезательно для ввода"
                #text_color: app.text_color_label

#            BoxLayout:
#                orientation: 'vertical'
            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:
                    root.calculate_kraska()
#            GridLayout:
#                cols: 2
#                spacing: 1

            MDTextField:
                id: answer_output
                hint_text: 'Количество краски:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_color
                hint_text: 'Стоимость работ:'
                text_color: app.text_color_label
                disabled: True

            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'




# Меню расчета обоев
<OtdelkaSecend>:
    name: 'Обои'
    auto_dismiss: False
    title: 'Обои'

    perimetr_input: perimetr_input
    h_input: h_input
    shirina_input: shirina_input
    pr_oboi_input: pr_oboi_input

    answer_pr_oboi: answer_pr_oboi
    answer_output: answer_output

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '500sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10
            cols: 1
            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                # size_hint_y: .35
#                spacing: 5
#                cols: 1
            DefTextInput:
                id: perimetr_input
                hint_text: 'Периметр:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: h_input
                hint_text: 'Высота стен'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: shirina_input
                hint_text: 'Ширина рулона:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_oboi_input
                hint_text: 'Стоимость обоев:'
                helper_text: "За один рулон"
                text_color: app.text_color_label

#        BoxLayout:
#            orientation: 'vertical'
#            size_hint_y: .2
            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:
                    root.calculate_oboi()

#        GridLayout:
#            # size_hint: 1, .75
#            cols: 1
            MDTextField:
                id: answer_pr_oboi
                hint_text: 'Количество обоев:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_output
                hint_text: 'Стоимость обоев:'
                text_color: app.text_color_label
                disabled: True

            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'

# Меню расчета облицовки
<OtdelkaThird>:
    name: 'Облицовка'
    auto_dismiss: False
    title: 'Облицовка'

    dlina_input: dlina_input
    shirina_input: shirina_input
    shirina_kafel_input: shirina_kafel_input
    dlina_kafel_input: dlina_kafel_input
    pr_kafel_input: pr_kafel_input
    shov_input: shov_input

    answer_kafel: answer_kafel
    answer_output: answer_output

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '500sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10
            cols: 1

            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                # size_hint_y: .75
#                spacing: 5
#                cols: 1
            DefTextInput:
                id: dlina_input
                hint_text: 'Высота поверхности'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: shirina_input
                hint_text: 'Ширина поверхности'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: shirina_kafel_input
                hint_text: 'Ширина кафеля:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: dlina_kafel_input
                hint_text: 'Длина кафеля:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: shov_input
                hint_text: 'Шоф'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_kafel_input
                hint_text: 'Стоимость кафеля за м2:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:
                    root.calculate_oblisovka()

            MDTextField:
                id: answer_kafel
                hint_text: 'Количество кафеля:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_output
                hint_text: 'Стоимость кафеля:'
                text_color: app.text_color_label
                disabled: True

            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'


# Меню расчета Штукатурка
<OtdelkaFourth>:
    name: 'Штукатурка'
    auto_dismiss: False
    title: 'Штукатурка'

    kvadrat_input: kvadrat_input
    pr_smes_input: pr_smes_input
    tol_smes_input: tol_smes_input


    answer_smes: answer_smes
    answer_output: answer_output

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '800sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10

            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                size_hint_y: .35
#                spacing: 5
#                cols: 1
            DefTextInput:
                id: kvadrat_input
                hint_text: 'Квадратура:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_smes_input
                hint_text: 'Стоимость смеси за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: tol_smes_input
                hint_text: 'Толщина штукатурки:'
                helper_text: "Еденица измерения мм"
                text_color: app.text_color_label


            BoxLayout:
                orientation: 'horizontal'
                #cols: 3
                # spacing: '50dp'
                #rows: 1
                #height: '100sp'

                MDLabel:
                    text: 'Цементная'
                MDSwitch:
                    pos_hint: {'center_x': .5, 'center_y': .5}
                    active: True
                    on_active: root.switch_smes(self, self.active)
                    theme_thumb_color: "Custom"
                    thumb_color: .1, .8, .6, 1
                    theme_thumb_down_color: "Custom"
                    thumb_color_disabled: .43, .50, .50, 1
                MDLabel:
                MDLabel:
                    text: 'Гипсовая'

            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:
                    root.calculate_shtukaturka()

#            GridLayout:
#                size_hint: 1, .75
#                cols: 2
            MDTextField:
                id: answer_smes
                hint_text: 'Количество смеси:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_output
                hint_text: 'Стоимость матириалов:'
                text_color: app.text_color_label
                disabled: True

            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'



