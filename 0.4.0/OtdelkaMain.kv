# ver: 0.4.0

#: import Factory kivy.factory.Factory

#OtdelkaMain:
#    OtdelkaFirst:
#    OtdelkaSecend:
#    OtdelkaThird:
#    OtdelkaFourth:

# Кномка в меню
<DefButton@Button>:
    background_color: .19, .31, .40, 1
    color: .82, .94, .26, 1
# Надпись для ввода данных
<DefLabel@MDLabel>:
    # halign: 'center'
    size: self.texture_size
    theme_text_color: 'Custom'
    # text_color: .82, .94, .26, 1
    text_color: 1, 1, 1, 1
    line_height: .8

<BackgroundColor@Widget>
    background_color: 1, 1, 1, 1
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos
# Now you can simply Mix the `BackgroundColor` class with almost
# any other widget... to give it a background.
<BackgroundLabel@MDLabel+BackgroundColor>
    # background_color: .40, .23, .72, 1
    # theme_text_color: 'Custom'
    text_color: 1, 1, 1, 1
    text_size: self.size
    halign: 'left'
    valign: 'middle'
    line_height: .8

# Строка для ввода данных
<DefTextInput@MDTextField>:
    hint_text: "Введите число в см"
    # helper_text: "Только цифры"
    helper_text_mode: "persistent"
    text_color: app.text_color_label


# Меню Расчет отделки помещений
<OtdelkaMain>:
    name: 'расчет отделки'

#    MDToolbar:
#        title: 'Расчет отделки стен'
#        pos_hint: {"top": 1}
#        elevation: 10
#        theme_text_color: "Custom"
#        text_color: .82, .94, .26, 1

    BoxLayout:
        pos_hint: {'center_x': 0.5, 'center_y': 0.9}
        orientation: 'vertical'
        spacing: 10
#        background_color: 1, 1, 1, 1
        BoxLayout:

            orientation: 'vertical'
            spacing: 10
            MDFillRoundFlatButton:
                pos_hint: {'center_x': 0.5, 'center_y': 0.9}
                text: '        Покраска         '
                theme_text_color: "Custom"
                text_color: app.menu_text_color_button
                md_bg_color: app.set_md_bg_color
                font_size: '20sp'
                on_release:
#                    app.root.current = 'Покраска стен'
#                    root.manager.transition.direction = 'left'
                    Factory.OtdelkaFirst().open()
            MDFillRoundFlatButton:
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                text: '            Обои              '
                theme_text_color: "Custom"
                text_color: 0,0,0,1# app.menu_text_color_button
                md_bg_color: app.set_md_bg_color
                font_size: '20sp'
                on_release:
#                    app.root.current = 'Обои'
#                    root.manager.transition.direction = 'left'
                    Factory.OtdelkaSecend().open()
            MDFillRoundFlatButton:
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                text: '       Облицофка       '
                theme_text_color: "Custom"
                text_color: app.menu_text_color_button
                md_bg_color: app.set_md_bg_color
                font_size: '20sp'                
                on_release:
#                    app.root.current = 'Облицовка'
#                    root.manager.transition.direction = 'left'
                    Factory.OtdelkaThird().open()
            MDFillRoundFlatButton:
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                text: '      Штукатурка       '
                theme_text_color: "Custom"
                text_color: app.menu_text_color_button
                md_bg_color: app.set_md_bg_color
                font_size: '20sp'
                on_release:
#                    app.root.current = 'Штукатурка'
#                    root.manager.transition.direction = 'left'
                    Factory.OtdelkaFourth().open()


# Покраска стен
<OtdelkaFirst>:
    name: 'Покраска стен'
    auto_dismiss: False
    title: 'Покраска стен'

    kvadrat_input: kvadrat_input
    pr_shpak_input: pr_shpak_input
    pr_color_input: pr_color_input
    pr_gruntovka_input: pr_gruntovka_input
    pr_shkur_input: pr_shkur_input
    workmans_input: workmans_input

    answer_output: answer_output
    answer_pr_shpak: answer_pr_shpak
    answer_pr_color: answer_pr_color
    answer_pr_gruntovka: answer_pr_gruntovka
    answer_pr_shkur: answer_pr_shkur


    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '900sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10

            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                size_hint_y: .35
#                spacing: 10
#                cols: 1
            DefTextInput:
                id: kvadrat_input
                hint_text: 'Квадратура:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label

            DefTextInput:
                id: pr_shpak_input
                hint_text: 'Стоимость шпаклевки за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

            DefTextInput:
                id: pr_color_input
                hint_text: 'Стоимость краски за литр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

            DefTextInput:
                id: pr_gruntovka_input
                hint_text: 'Стоимость грунтовки за литр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

            DefTextInput:
                id: pr_shkur_input
                hint_text: 'Стоимость шкурки за метр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

            DefTextInput:
                id: workmans_input
                hint_text: 'Количество рабочих:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

#            BoxLayout:
#                orientation: 'vertical'
            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:
                    root.calculate_kraska()
#            GridLayout:
#                cols: 2
#                spacing: 1

            MDTextField:
                id: answer_pr_shpak
                hint_text: 'Количество ш-ки в кг:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_color
                hint_text: 'Количество краски:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_gruntovka
                hint_text: 'Количество грунтовки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_shkur
                hint_text: 'Количество шкурки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_output
                hint_text: 'Стоимость работ:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: workmans_input
                hint_text: 'Примерное время на выполнеие работ:'
                helper_text: 'Выведется если графа "Количество рабочих" заполнено'
                text_color: app.text_color_label
                disabled: True


            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'




# Меню расчета обоев
<OtdelkaSecend>:
    name: 'Обои'
    auto_dismiss: False
    title: 'Обои'

    kvadrat_input: kvadrat_input
    shirina_input: shirina_input
    pr_shpak_input: pr_shpak_input
    pr_oboi_input: pr_oboi_input
    pr_gruntovka_input: pr_gruntovka_input
    pr_shkur_input: pr_shkur_input
    pr_kley_input: pr_kley_input

    workmans_input: workmans_input
    answer_output: answer_output
    answer_pr_shpak: answer_pr_shpak
    answer_pr_oboi: answer_pr_oboi
    answer_pr_kley: answer_pr_kley
    answer_pr_gruntovka: answer_pr_gruntovka
    answer_pr_shkur: answer_pr_shkur

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '1000sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10
            cols: 1
            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                # size_hint_y: .35
#                spacing: 5
#                cols: 1
            DefTextInput:
                id: kvadrat_input
                hint_text: 'Квадратура:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: shirina_input
                hint_text: 'Ширина обоев(по умолчанию 1м):'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_shpak_input
                hint_text: 'Стоимость шпаклевки за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_kley_input
                hint_text: 'Стоимость клея за литр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_oboi_input
                hint_text: 'Стоимость обоев за метр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_gruntovka_input
                hint_text: 'Стоимость грунтовки за литр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_shkur_input
                hint_text: 'Стоимость шкурки за метр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: workmans_input
                hint_text: 'Количество рабочих:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

#        BoxLayout:
#            orientation: 'vertical'
#            size_hint_y: .2
            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:

                    root.calculate_oboi()

#        GridLayout:
#            # size_hint: 1, .75
#            cols: 1
            DefLabel:
                id: answer_pr_shpak
                hint_text: 'Количество шпаклевки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_oboi
                hint_text: 'Количество обоев:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_kley
                hint_text: 'Количество клея за литр:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_gruntovka
                hint_text: 'Количество грунтовки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_shkur
                hint_text: 'Количество шкурки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_output
                hint_text: 'Стоимость работ:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: workmans_input
                hint_text: 'Примерное время на выполнеие работ:'
                helper_text: 'Выведется если графа "Количество рабочих" заполнено'
                text_color: app.text_color_label
                disabled: True


            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'

# Меню расчета облицовки
<OtdelkaThird>:
    name: 'Облицовка'
    auto_dismiss: False
    title: 'Облицовка'

    kvadrat_input: kvadrat_input
    shirina_kafel_input: shirina_kafel_input
    dlina_kafel_input: dlina_kafel_input
    pr_kafel_input: pr_kafel_input
    pr_gruntovka_input: pr_gruntovka_input
    pr_kley_input: pr_kley_input
    workmans_input: workmans_input
    answer_output: answer_output
    answer_kafel: answer_kafel
    answer_pr_gruntovka: answer_pr_gruntovka
    answer_pr_kley: answer_pr_kley
    answer_pr_fuga: answer_pr_fuga

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '1000sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10
            cols: 1

            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                # size_hint_y: .75
#                spacing: 5
#                cols: 1
            DefTextInput:
                id: kvadrat_input
                hint_text: 'Квадратура:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: shirina_kafel_input
                hint_text: 'Ширина кафеля:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: dlina_kafel_input
                hint_text: 'Длина кафеля:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_kafel_input
                hint_text: 'Стоимость кафеля за м2:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_gruntovka_input
                hint_text: 'Стоимость грунтовки за литр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_kley_input
                hint_text: 'Стоимость клея за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_fuga_input
                hint_text: 'Стоимость фуги за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: workmans_input
                hint_text: 'Количество рабочих:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label

#            BoxLayout:
#                orientation: 'vertical'
#                size_hint_y: .2
            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:
                    root.calculate_oblisovka()

#            GridLayout:
#                # size_hint: 1, 1
#                cols: 1
#                padding: 10
            MDTextField:
                id: answer_kafel
                hint_text: 'Количество кафеля:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_gruntovka
                hint_text: 'Количество грунтовки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_kley
                hint_text: 'Количество клея:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_fuga
                hint_text: 'Количество фуги:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_output
                hint_text: 'Стоимость работ:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                hint_text: 'Примерное время на выполнеие работ:'
                helper_text: 'Выведется если графа "Количество рабочих" заполнено'
                text_color: app.text_color_label
                disabled: True

            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'


# Меню расчета Штукатурка
<OtdelkaFourth>:
    name: 'Штукатурка'
    auto_dismiss: False
    title: 'Штукатурка'

    kvadrat_input: kvadrat_input
    smes_input: smes_input
    tsement_input: tsement_input
    pesok_input: pesok_input
    pr_gruntovka_input: pr_gruntovka_input
    setka_input: setka_input

    answer_smes: answer_smes
    answer_tsement: answer_tsement
    answer_pesok: answer_pesok
    answer_pr_gruntovka: answer_smes
    answer_setka: answer_setka
    workmans_input: workmans_input
    answer_output: answer_output

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True

        BoxLayout:
            height: '1000sp'
            orientation: 'vertical'
            size_hint_y: None
            # size: root.width, root.height
            padding: 10
            spacing: 10

            canvas:
                Color:
                    rgba: app.popup_color
                Rectangle:
                    size: self.size
                    pos: self.pos

#            GridLayout:
#                size_hint_y: .35
#                spacing: 5
#                cols: 1
            DefTextInput:
                id: kvadrat_input
                hint_text: 'Квадратура:'
                helper_text: "Обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: smes_input
                hint_text: 'Стоимость смеси за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: tsement_input
                hint_text: 'Стоимость цемента за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pesok_input
                hint_text: 'Стоимость песка за кг:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: pr_gruntovka_input
                hint_text: 'Стоимость грунтовки за литр:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: setka_input
                hint_text: 'Стоимость арматурной сетки за м2:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
            DefTextInput:
                id: workmans_input
                hint_text: 'Количество рабочих:'
                helper_text: "Не обезательно для ввода"
                text_color: app.text_color_label
#            BoxLayout:
#                orientation: 'vertical'
            MDRoundFlatButton:
                # size_hint: 1, .1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                text: '    Посчитать    '
                on_press:
                    root.calculate_shtukaturka()

#            GridLayout:
#                size_hint: 1, .75
#                cols: 2
            MDTextField:
                id: answer_smes
                hint_text: 'Количество смеси:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_tsement
                hint_text: 'Количество цемента:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pesok
                hint_text: 'Количество песка:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_pr_gruntovka
                hint_text: 'Количество грунтовки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_setka
                hint_text: 'Количество арматурной сетки:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: answer_output
                hint_text: 'Стоимость работ:'
                text_color: app.text_color_label
                disabled: True
            MDTextField:
                id: workmans_input
                hint_text: 'Примерное время на выполнеие работ:'
                helper_text: 'Выведется если графа "Количество рабочих" заполнено'
                text_color: app.text_color_label
                disabled: True

            MDRoundFlatButton:
                text: 'Назад'
                # size_hint: 1, .1
                line_color: 0, 0, 0, 1
                theme_text_color: 'Custom'
                text_color: app.text_color_button
                line_color: app.text_color_button
                pos_hint: {'center_x': .5, 'center_y': 1}
                on_press:
                    root.dismiss()
#                    app.root.current = 'расчет отделки'
#                    root.manager.transition.direction = 'right'



